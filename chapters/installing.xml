<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V5.0//EN"
    "http://docbook.org/xml/5.0/dtd/docbook.dtd">

<chapter id="installing" 
    xmlns="http://docbook.org/ns/docbook" version="5.0" xml:lang="en"
    xmlns:xl="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude">

    <title>Installing Guacamole</title>

    <!--
    - From packages 
    -->

    <section id="getpackages">

        <title>Pre-built packages</title>

        <para>
            By far, the easiest way to install Guacamole is through pre-built
            binary packages. Binary packages are provided with every Guacamole
            release for several Linux distributions, and there may be Guacamole
            packages available in the official repository of your distribution.
        </para>

        <para>
            If your distribution provides Guacamole packages for you, this is
            the preferred method of installing Guacamole. Install your
            distribution's Guacamole package, and then follow the common
            instructions here for configuring Guacamole once it is installed.
        </para>

        <para>
            If your distribution does not provide Guacamole packages, or the
            packages provided are too old, you can try the packages built by
            the Guacamole project with every release. If the Guacamole project
            does not provide packages for your specific distribution, you will
            need to build everything yourself from source.
        </para>

        <section id="supported">

            <title>Supported distribution versions</title>

            <para>
                The Guacamole project supports all stable versions of Debian,
                Ubuntu, and Fedora which have not reached end-of-life. The
                only exception to this is when a particular version cannot
                be supported because the upstream repository is missing a
                critical dependency, in which case some or all of the
                packages built by the Guacamole project will not be available
                for that distribution.
            </para>

            <para>
                Packages for all supported versions of Linux distributions are
                available from the <link
                    xl:href="http://guac-dev.org/">Guacamole web site</link>.
            </para>

        </section>

        <section id="bindepends">

            <title>Installing Dependencies</title>

            <para>
                Different components of Guacamole depend on different packages
                provided by your distribution in order to function.
            </para>

            <para>
                The Guacamole web application depends on a servlet container
                like Apache Tomcat. This guide assumes you are using Apache
                Tomcat as your servlet container, but others will work as well.
                You will need to consult the documentation of your chosen
                servlet container for any details regarding installation of web
                applications.
            </para>

            <para>
                For Debian and Ubuntu, Apache Tomcat is provided by the
                <package>tomcat6</package> package, while the VNC library
                required for VNC support is provided by
                <package>libvncserver0</package>, and RDP support is provided
                by <package>libfreerdp1</package>.
            </para>

            <example>
                <title>Installing Guacamole dependencies on Debian or Ubuntu</title>
                <screen>
<prompt>$</prompt> <command>sudo <option>apt-get</option> <option>install</option> <option>tomcat6</option> <option>libvncserver0</option> <option>libfreerdp1</option></command>
                </screen>
            </example>

            <para>
                The Apache Tomcat package for Fedora is also called
                <package>tomcat6</package>. VNC support is provided by
                <package>libvncserver</package>, and RDP support is provided by
                <package>freerdp</package>.
            </para>

            <example>
                <title>Installing Guacamole dependencies on Fedora</title>
                <screen>
<prompt>$</prompt> <command>su</command>
<prompt>Password:</prompt> <replaceable>password</replaceable>
<prompt>#</prompt> <command>yum <option>install</option> <option>tomcat6</option> <option>libvncserver</option> <option>freerdp</option></command>
                </screen>
            </example>

        </section>

        <section>
            
            <title>Installing Guacamole packages</title>

            <para>
                Once dependencies are installed, the official Guacamole
                packages can be installed.  Guacamole is split into multiple
                packages, one package providing the web application, others
                providing the native components (proxy daemon and library) or
                support for specific protocols (VNC and RDP).
            </para>

            <para>
                The easiest way to obtain all packages in one fell swoop is to
                download the "bundle" archive of the latest release from the
                <link xl:href="http://guac-dev.org/">Guacamole web site</link>.
            </para>

            <example>
                <title>Installing Guacamole packages on Debian or Ubuntu</title>
<screen>
<prompt>$</prompt> <command>tar -xzf guacamole-0.6.2-ubuntu-12.04-amd64.tar.gz</command>
<prompt>$</prompt> <command>cd guacamole-0.6.2-ubuntu-12.04-amd64/</command>
<prompt>$</prompt> <command>ls</command>
<computeroutput>guacamole_0.6.1-1_all.deb         libguac-client-rdp0_0.6.1-1_amd64.deb
guacamole-tomcat_0.6.1-1_all.deb  libguac-client-vnc0_0.6.0-1_amd64.deb
guacd_0.6.1-1_amd64.deb           libguac-dev_0.6.2-1_amd64.deb
libguac3_0.6.2-1_amd64.deb</computeroutput>
<prompt>$</prompt> <command>sudo dpkg -i *.deb</command>
</screen>
            </example>

            <example>
                <title>Installing Guacamole packages on Fedora</title>
<screen>
<prompt>$</prompt> <command>tar -xzf guacamole-0.6.2-fedora-17-x86_64.tar.gz</command>
<prompt>$</prompt> <command>cd guacamole-0.6.2-fedora-17-x86_64/</command>
<prompt>$</prompt> <command>ls</command>
<computeroutput>guacamole-0.6.1-1.noarch.rpm  libguac3-devel-0.6.2-1.x86_64.rpm
guacd-0.6.1-1.x86_64.rpm      libguac-client-rdp-0.6.1-1.x86_64.rpm
libguac3-0.6.2-1.x86_64.rpm
libguac-client-vnc0-0.6.0-1.x86_64.rpm</computeroutput>
<prompt>$</prompt> <command>su</command>
<prompt>Password:</prompt> <replaceable>password</replaceable>
<prompt>#</prompt> <command>rpm -i *.rpm</command>
</screen>
            </example>

        </section>

    </section>

    <!--
    - From source
    -->

    <section id="getsource">

        <title>Building Guacamole from source</title>

        <section>
            <title>Compiling libguac</title>
        </section>

        <section>
            <title>Protocol support and guacd</title>
        </section>

        <section>
            <title>Building the web application (guacamole.war)</title>

            <para>
                Guacamole is built using Maven. Building Guacamole compiles all
                classes and packages them into a deployable
                <filename>.war</filename> file. This <filename>.war</filename>
                file can be installed and deployed under servlet containers like
                Apache Tomcat or Jetty.
            </para>

            <para>
                To build Guacamole using maven, simply run
                <command>mvn <option>package</option></command>.
            </para>

            <screen>
<prompt>$</prompt> <command>mvn <option>package</option></command>
            </screen>

            <para>
                Maven will download any needed dependencies for building
                the <filename>.war</filename> file. Once all dependencies
                have been downloaded, the <filename>.war</filename> file
                will be created in the <filename>target/</filename>
                subdirectory of the current directory.
            </para>

        </section>

    </section>

    <!--
    - From git 
    -->

    <section id="getgit">

        <title>The absolute latest</title>

    </section>

</chapter>
