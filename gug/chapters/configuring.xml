<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V5.0//EN"
    "http://docbook.org/xml/5.0/dtd/docbook.dtd">

<chapter id="configuring-guacamole" 
    xmlns="http://docbook.org/ns/docbook" version="5.0" xml:lang="en"
    xmlns:xi="http://www.w3.org/2001/XInclude">

    <title>Configuring Guacamole</title>

    <!--
    - Initial setup
    -->

    <section id="initial-setup">

        <title>Initial setup</title>

        <para>
            The Guacamole web application uses one main configuration file
            called guacamole.properties which must be in the classpath of your
            servlet container. This file is the common location for all
            configuration properties read by Guacamole or any extension of
            Guacamole, including authentication providers.
        </para>

        <para>
            At the bare minimum, the guacamole.properties file provides four 
            basic properties:
        </para>

        <variablelist>
            <varlistentry>
                <term><parameter>guacd-host</parameter></term>
                <listitem>
                    <para>
                        The host the Guacamole proxy daemon (guacd) is
                        listening on. This is most likely localhost.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><parameter>guacd-port</parameter></term>
                <listitem>
                    <para>
                        The port the Guacamole proxy daemon (guacd) is
                        listening on. This is port 4822 by default.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><parameter>auth-provider</parameter></term>
                <listitem>
                    <para>
                        The authentication provider to use when
                        authenticating. Normally, this will be set to,
                        net.sourceforge.guacamole.net.basic.BasicFileAuthenticationProvider
                        which is the default authentication provider provided
                        with Guacamole.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><parameter>lib-directory</parameter></term>
                <listitem>
                    <para>
                        The directory to load extensions to Guacamole from.
                        If you wish to use a custom authentication provider or
                        custom hooks, the .jar file and all dependencies must
                        be placed in the directory specified here.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>

        <example>
            <title>Minimal guacamole.properties</title>
            <xi:include href="conf/guacamole.properties.xml"/>
        </example>

    </section>

    <!--
    - Authentication
    -->

    <section id="authentication-setup">

        <title>Authentication</title>

        <para>
            Authentication is configured by editing guacamole.properties and
            setting the authentication provider property: auth-provider.
        </para>

    </section>

    <!--
    - Adding users and connections
    -->

    <section id="connection-setup">

        <title>Adding users and connections</title>

        <xi:include href="conf/user-mapping.xml.xml"/>

    </section>

</chapter>
