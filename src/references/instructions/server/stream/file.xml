<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="file-stream-instruction" xmlns="http://docbook.org/ns/docbook"
    version="5.0" xml:lang="en" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>file</title>
    <indexterm>
        <primary>file</primary>
    </indexterm>
    <para>Allocates a new stream, associating it with the given arbitrary file metadata. The
        contents of the file will later be sent along the stream with blob instructions. The full
        size of the file need not be known ahead of time.</para>
    <variablelist>
        <varlistentry>
            <term><parameter>stream</parameter></term>
            <listitem>
                <para>The index of the stream to allocate.</para>
            </listitem>
        </varlistentry>
        <varlistentry>
            <term><parameter>mimetype</parameter></term>
            <listitem>
                <para>The mimetype of the file being sent.</para>
            </listitem>
        </varlistentry>
        <varlistentry>
            <term><parameter>filename</parameter></term>
            <listitem>
                <para>The name of the file, as it would be saved on a filesystem.</para>
            </listitem>
        </varlistentry>
    </variablelist>
</section>